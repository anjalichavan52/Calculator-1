#include <stdio.h>

int main() {
    double numbers[100], result;
    int choice, n, i;

    while (1) {
        printf("\n--- Simple Calculator ---\n");
        printf("1. Addition (+)\n");
        printf("2. Subtraction (-)\n");
        printf("3. Multiplication (*)\n");
        printf("4. Division (/)\n");
        printf("5. Exit\n");
        printf("Enter your choice (1-5): ");
        scanf("%d", &choice);

        if (choice == 5) {
            printf("Exiting the calculator. Goodbye!\n");
            break;
        }

        printf("How many numbers do you want to operate on? (2-100): ");
        scanf("%d", &n);
        if (n < 2 || n > 100) {
            printf("Invalid number of inputs. Please enter a value between 2 and 100.\n");
            continue;
        }

        for (i = 0; i < n; i++) {
            printf("Enter number %d: ", i + 1);
            scanf("%lf", &numbers[i]);
        }

        switch (choice) {
            case 1: // Addition
                result = 0;
                for (i = 0; i < n; i++)
                    result += numbers[i];
                printf("Result: ");
                for (i = 0; i < n; i++) {
                    printf("%.2lf", numbers[i]);
                    if (i < n - 1) printf(" + ");
                }
                printf(" = %.2lf\n", result);
                break;

            case 2: // Subtraction
                result = numbers[0];
                for (i = 1; i < n; i++)
                    result -= numbers[i];
                printf("Result: ");
                for (i = 0; i < n; i++) {
                    printf("%.2lf", numbers[i]);
                    if (i < n - 1) printf(" - ");
                }
                printf(" = %.2lf\n", result);
                break;

            case 3: // Multiplication
                result = 1;
                for (i = 0; i < n; i++)
                    result *= numbers[i];
                printf("Result: ");
                for (i = 0; i < n; i++) {
                    printf("%.2lf", numbers[i]);
                    if (i < n - 1) printf(" * ");
                }
                printf(" = %.2lf\n", result);
                break;

            case 4: // Division
                result = numbers[0];
                int division_by_zero = 0;
                for (i = 1; i < n; i++) {
                    if (numbers[i] == 0) {
                        division_by_zero = 1;
                        break;
                    }
                    result /= numbers[i];
                }
                if (division_by_zero) {
                    printf("Error: Division by zero is not allowed.\n");
                } else {
                    printf("Result: ");
                    for (i = 0; i < n; i++) {
                        printf("%.2lf", numbers[i]);
                        if (i < n - 1) printf(" / ");
                    }
                    printf(" = %.2lf\n", result);
                }
                break;

            default:
                printf("Invalid choice! Please select a valid option.\n");
        }
    }
    return 0;
}